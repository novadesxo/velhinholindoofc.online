!function(r,d,f){function h(t,a){this.init(t,a)}h.DEFAULTS={popupFx:"1",now:"",timezone:"America/Sao_Paulo",notAvailableMsg:"",almostAvailableMsg:"",defaultMsg:"",debug:!1,onPopupOpen:function(){},onPopupClose:function(){},whenGoingToWhatsApp:function(t,a){}},h.prototype.init=function(t,a){var s=d.extend(!0,{},h.DEFAULTS,a);s.defaultMsg=s.defaultMsg.split("%url%").join(r.location.href);var n=d(t),o=n.find(".wcs_button"),i=n.find(".wcs_button_label"),e=n.find(".wcs_popup"),p=n.find(".wcs_popup_input"),a=n.find(".wcs_popup_person_container");n.addClass("wcs-effect-"+s.popupFx);t=d('<div class="wcs_debug"></div>');function u(){s.onPopupOpen(),d(".whatsapp_chat_support").each(function(){var t=d(this);t.removeClass("wcs-show"),t.find(".wcs_popup_input").find('input[type="text"]').val("")}),i.addClass("wcs_button_label_hide"),n.addClass("wcs-show"),setTimeout(function(){e.find("input").val(s.defaultMsg).focus()},50)}function l(){s.onPopupClose(),i.removeClass("wcs_button_label_hide"),n.removeClass("wcs-show"),n.find(".wcs_popup_input").find('input[type="text"]').val("")}function c(t,a){s.whenGoingToWhatsApp(t,a),l();var n="https://web.whatsapp.com/send";/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(n="https://api.whatsapp.com/send");a=n+"?phone="+t+"&text="+a;r.open(a,"_blank").focus()}s.debug&&d("body").append(t),o.on("click",function(){e[0]!=f&&(n.hasClass("wcs-show")?l:u)()}),i.on("click",function(){e[0]!=f&&(n.hasClass("wcs-show")?l:u)()}),e.find(".wcs_popup_close").on("click",function(){l()}),o.on("click",function(){var t=d(this);t.attr("data-number")==f||t.hasClass("wcs_button_person_offline")||c(t.attr("data-number"),s.defaultMsg)}),p.on("click",".fa",function(){d(this),c(p.attr("data-number"),p.find('input[type="text"]').val())}),p.find('input[type="text"]').keypress(function(t){13==t.which&&(d(this),c(p.attr("data-number"),p.find('input[type="text"]').val()))}),a.on("click",".wcs_popup_person",function(){var t=d(this);t.hasClass("wcs_popup_person_offline")||c(t.attr("data-number"),s.defaultMsg)}),a.find(".wcs_popup_person").each(function(){var t,a=d(this);a.attr("data-availability")!=f&&((t=function(t){var a,n,s,o=!1,i=!1;for(a in t)t.hasOwnProperty(a)&&("sunday"==(s=(s=a).toLowerCase())?0:"monday"==s?1:"tuesday"==s?2:"wednesday"==s?3:"thursday"==s?4:"friday"==s?5:"saturday"==s?6:void 0)==_.day()&&(n=moment(d.trim(t[a].split("-")[0]),"HH:mm"),s=moment(d.trim(t[a].split("-")[1]),"HH:mm"),_.isAfter(n)&&_.isBefore(s)?o=!0:_.isBefore(n)&&(i=!0));return{is_available:o,almost_available:i}}(d.parseJSON(a.attr("data-availability")))).is_available||(a.addClass("wcs_popup_person_offline"),a.find(".wcs_popup_person_status").html(t.almost_available?s.almostAvailableMsg:s.notAvailableMsg)))})},d.fn.whatsappChatSupport=function(o,i,e){return this.each(function(t,a){var n=d(this),s=n.data("whatsappChatSupport");s||"string"==typeof o||n.data("whatsappChatSupport",new h(this,o)),s&&"string"==typeof o&&s[o](i,e)})}}(window,jQuery);